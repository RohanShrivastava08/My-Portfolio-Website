import React from "react";
import Navbar from "../components/Navbar";
import { motion } from "framer-motion";
import Slider from "react-slick";
import Node1 from "../assets/node1.jfif";
import Node2 from "../assets/node2.jfif";
import Node3 from "../assets/node3.jfif";
import Node4 from "../assets/node4.jfif";
import Node5 from "../assets/node5.jfif";
import Email1 from "../assets/email1.jfif";
import Email2 from "../assets/email2.jfif";
import Email3 from "../assets/email3.jfif";
import Email4 from "../assets/email4.jfif";
import Email5 from "../assets/email5.jfif";
import TicTack1 from "../assets/tictack1.jfif";
import TicTack2 from "../assets/tictack2.jfif";
import TicTack3 from "../assets/tictack3.jfif";
import ClothingEcom1 from "../assets/clothingEcom1.png";
import ClothingEcom2 from "../assets/clothingEcom2.png";
import ClothingEcom3 from "../assets/clothingEcom3.png";
import ClothingEcom4 from "../assets/clothingEcom4.png";
import ClothingEcom5 from "../assets/clothingEcom5.png";
import Textto1 from "../assets/textto1.jfif";
import Textto2 from "../assets/textto3.png";
import Textto3 from "../assets/textto2.jfif";
import Textto4 from "../assets/textto4.png";
import Textto5 from "../assets/textto5.png";
import NetflixClone1 from "../assets/netflixcln1.jfif";
import NetflixClone2 from "../assets/netflixcln2.jfif";
import NetflixClone3 from "../assets/netflixcln3.jfif";
import NetflixClone4 from "../assets/netflixcln4.png";
import NetflixClone5 from "../assets/netflixcln5.png";
import Resume1 from "../assets/resume1.png";
import Resume2 from "../assets/resume2.png";
import Resume3 from "../assets/resume3.png";
import Resume4 from "../assets/resume4.png";
import Resume5 from "../assets/resume5.png";
import Car1 from "../assets/car1.png";
import Car2 from "../assets/car2.png";
import Car3 from "../assets/car3.png";
import Car4 from "../assets/car4.png";
import Car5 from "../assets/car5.png";
import Onestop1 from "../assets/1stop1.jfif";
import Onestop2 from "../assets/1stop2.png";
import Onestop3 from "../assets/1stop3.jfif";
import Onestop4 from "../assets/1stop4.png";
import Onestop5 from "../assets/1stop5.png";
import Bharatpe1 from "../assets/bharatpe1.jfif";
import Bharatpe2 from "../assets/bharatpe2.jfif";
import Bharatpe3 from "../assets/bharatpe3.jfif";
import Bharatpe4 from "../assets/bharatpe4.jfif";
import Bharatpe5 from "../assets/bharatpe5.jfif";
import Windows1 from "../assets/windows1.jfif";
import Windows2 from "../assets/windows2.jfif";
import Windows3 from "../assets/windows3.png";
import Windows4 from "../assets/windows4.png";
import Windows5 from "../assets/windows5.png";
import Minesweeper1 from "../assets/minesweeper1.jfif";
import Minesweeper2 from "../assets/minesweeper2.png";
import Minesweeper3 from "../assets/minesweeper3.jfif";
import Minesweeper4 from "../assets/minesweeper4.png";
import Minesweeper5 from "../assets/minesweeper5.jfif";
import Rockpaper1 from "../assets/rockpaper1.jfif";
import Rockpaper2 from "../assets/rockpaper2.png";
import Rockpaper3 from "../assets/rockpaper3.jfif";
import Rockpaper4 from "../assets/rockpaper4.png";
import Rockpaper5 from "../assets/rockpaper5.jfif";
import Crud1 from "../assets/crud1.jfif";
import Crud2 from "../assets/crud2.jfif";
import Crud3 from "../assets/crud3.jfif";
import Crud4 from "../assets/crud4.jfif";
import Crud5 from "../assets/crud5.jfif";
import Furniture1 from "../assets/furniture1.png";
import Furniture2 from "../assets/furniture2.png";
import Furniture3 from "../assets/furniture3.png";
import Furniture4 from "../assets/furniture4.png";
import Furniture5 from "../assets/furniture5.png";
import Grocery1 from "../assets/grocery1.png";
import Grocery2 from "../assets/grocery2.png";
import Grocery3 from "../assets/grocery3.png";
import Grocery4 from "../assets/grocery4.png";
import Grocery5 from "../assets/grocery5.png";
import Chatapp1 from "../assets/chatapp1.jfif";
import Chatapp2 from "../assets/chatapp2.jfif";
import Chatapp3 from "../assets/chatapp3.jfif";
import Chatapp4 from "../assets/chatapp4.jfif";
import Chatapp5 from "../assets/chatapp5.jfif";
import Portfolio1 from "../assets/portfolio1.jfif";
import Portfolio2 from "../assets/portfolio2.jfif";
import Portfolio3 from "../assets/portfolio3.jfif";
import Portfolio4 from "../assets/portfolio4.jfif";
import Portfolio5 from "../assets/portfolio5.jfif";
import Recipebook1 from "../assets/recipebook1.jfif";
import Recipebook2 from "../assets/recipebook2.jfif";
import Recipebook3 from "../assets/recipebook3.jfif";
import Recipebook4 from "../assets/recipebook4.jfif";
import Recipebook5 from "../assets/recipebook5.jfif";
import Codeweb1 from "../assets/codeweb1.png";
import Codeweb2 from "../assets/codeweb2.png";
import Codeweb3 from "../assets/codeweb3.png";
import Codeweb4 from "../assets/codeweb4.png";
import Codeweb5 from "../assets/codeweb5.png";
import Tailwindlanding1 from "../assets/tailwindlanding1.jfif";
import Tailwindlanding2 from "../assets/tailwindlanding2.png";
import Tailwindlanding3 from "../assets/tailwindlanding3.png";
import Tailwindlanding4 from "../assets/tailwindlanding4.png";
import Tailwindlanding5 from "../assets/tailwindlanding5.png";
import Todesktop1 from "../assets/todesktop1.jfif";
import Todesktop2 from "../assets/todesktop2.jfif";
import Todesktop3 from "../assets/todesktop3.jfif";
import Todesktop4 from "../assets/todesktop4.jfif";
import Todesktop5 from "../assets/todesktop5.jfif";
import Evpage1 from "../assets/evpage1.jfif";
import Evpage2 from "../assets/evpage2.png";
import Evpage3 from "../assets/evpage3.jfif";
import Evpage4 from "../assets/evpage4.png";
import Evpage5 from "../assets/evpage5.png";
import Livenews1 from "../assets/livenews1.jfif";
import Livenews2 from "../assets/livenews2.png";
import Livenews3 from "../assets/livenews3.jfif";
import Livenews4 from "../assets/livenews4.png";
import Livenews5 from "../assets/livenews5.jfif";
import Loginpage1 from "../assets/loginpage1.png";
import Loginpage2 from "../assets/loginpage2.jfif";
import Loginpage3 from "../assets/loginpage3.png";
import Loginpage4 from "../assets/loginpage4.jfif";
import Loginpage5 from "../assets/loginpage5.png";
import Notion1 from "../assets/notion1.jfif";
import Notion2 from "../assets/notion2.jfif";
import Notion3 from "../assets/notion3.jfif";
import Notion4 from "../assets/notion4.jfif";
import Notion5 from "../assets/notion5.jfif";

const projects = [
  {
    title: "Notion Clone using Next.js & Tailwind CSS",
    description:
      "üìù Developed a Notion-inspired app with reusable UI, real-time Convex backend, and CLERK for authentication. Features single-image uploads with EdgeStore. Hosted on Vercel.",
    link: "https://github.com/RohanShrivastava08/Notion-Clone-using-Next-Typescript",
    images: [Notion1, Notion2, Notion3, Notion4, Notion5],
  },
  {
    title: "CRUD App using React Redux",
    description:
      "üõ†Ô∏è Built a CRUD application using React and Redux for state management. Tech Stack: React, Redux, CSS.",
    link: "https://github.com/RohanShrivastava08/CRUD-App-using-React-Redux",
    images: [Crud1, Crud2, Crud3, Crud4, Crud5],
  },
  {
    title: "Chat App using TypeScript",
    description:
      "üí¨ Created a real-time chat application using TypeScript. Tech Stack: TypeScript, Socket.io, Node.js.",
    link: "https://github.com/RohanShrivastava08/Lets-Chat-App-using-TypeScript",
    images: [Chatapp1, Chatapp2, Chatapp3, Chatapp4, Chatapp5],
  },
  {
    title: "Live News App using React.js & News API",
    description:
      "üì∞ Developed a live news application fetching data from News API. Tech Stack: React, Axios, News API.",
    link: "https://github.com/RohanShrivastava08/Live-News-App-using-React.js-News-API",
    images: [Livenews1, Livenews2, Livenews3, Livenews4, Livenews5],
  },
  {
    title: "EV Landing Page using React & Vite",
    description:
      "‚ö° Created a landing page for electric vehicles using React. Tech Stack: React, Vite, CSS.",
    link: "https://github.com/RohanShrivastava08/EV-Landing-Page-using-React.js",
    images: [Evpage1, Evpage2, Evpage3, Evpage4, Evpage5],
  },
  {
    title: "Login/SignUp Form using React.js & Vite",
    description:
      "üîë Created a login and signup form with validation using React. Tech Stack: React, Vite, CSS.",
    link: "https://github.com/RohanShrivastava08/Login-SignUp-Form-using-React-Vite",
    images: [Loginpage1, Loginpage2, Loginpage3, Loginpage4, Loginpage5],
  },
  {
    title: "Node.js API for User Authentication",
    description:
      "üîí Developed a secure Node.js API for user authentication with JWT. Tech Stack: Node.js, Express, MongoDB, JWT.",
    link: "https://github.com/RohanShrivastava08/Login-Form-using-NodeJS",
    images: [Node1, Node3, Node4, Node5, Node2],
  },
  {
    title: "Signup with Email Confirmation",
    description:
      "üìß Implemented a signup feature with email confirmation and validation. Tech Stack: Node.js, Express, Nodemailer, MongoDB.",
    link: "https://github.com/RohanShrivastava08/SignUp-Confirmation-Email-using-MongoDB-NodeJS-ExpressJs",
    images: [Email1, Email2, Email3, Email4, Email5],
  },
  {
    title: "Tic Tac Toe Game",
    description:
      "üéÆ Created a classic Tic Tac Toe game with interactive UI. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/Tic-Tack-Toe-Game-using-React",
    images: [TicTack1, TicTack2, TicTack3],
  },
  {
    title: "E-Commerce Clothing Website",
    description:
      "üõçÔ∏è Developed a fully functional e-commerce website for clothing. Tech Stack: HTML, CSS, JS, ChatGpt.",
    link: "https://github.com/RohanShrivastava08/Ecommerce-Clothing-Website",
    images: [
      ClothingEcom1,
      ClothingEcom2,
      ClothingEcom3,
      ClothingEcom4,
      ClothingEcom5,
    ],
  },
  {
    title: "Text to Speech Project",
    description:
      "üó£Ô∏è Created a web app that converts text to speech using JavaScript. Tech Stack: HTML, CSS, JavaScript, Web Speech API.",
    link: "https://github.com/RohanShrivastava08/Text-to-Speech-Project-using-JS",
    images: [Textto1, Textto2, Textto3, Textto4, Textto5],
  },
  {
    title: "Netflix Clone",
    description:
      "üé• Built a clone of Netflix with movie streaming functionality. Tech Stack: HTML, Javascript, CSS.",
    link: "https://github.com/RohanShrivastava08/Netflix-Clone",
    images: [NetflixClone1,NetflixClone2,NetflixClone3,NetflixClone4,NetflixClone5],
  },
  {
    title: "Dynamic Resume",
    description:
      "üìù Created a dynamic resume that updates based on user input. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/My-Resumet",
    images: [Resume1, Resume2, Resume3, Resume4, Resume5],
  },
  {
    title: "Car Animation",
    description:
      "üöó Developed a car animation using HTML, CSS, and JavaScript. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/Car-Animation",
    images: [Car1, Car2, Car3, Car4, Car5],
  },
  {
    title: "E-Commerce Website (1Stop)",
    description:
      "üõí Built an e-commerce platform for various products. Tech Stack: React, Node.js, Express, MongoDB.",
    link: "https://github.com/RohanShrivastava08/E-commerce-Website---1Stop",
    images: [Onestop1, Onestop2, Onestop3, Onestop4, Onestop5],
  },
  {
    title: "Registration Form for Bharat Intern",
    description:
      "üìã Created a user registration form with validation. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/Bharat-Intern-Tasks/tree/main/Task%201",
    images: [Bharatpe1, Bharatpe2, Bharatpe3, Bharatpe4, Bharatpe5],
  },
  {
    title: "Windows 11 Homepage Recreation",
    description:
      "üñ•Ô∏è Recreated the Windows 11 homepage using HTML and CSS. Tech Stack: HTML, CSS.",
    link: "https://github.com/RohanShrivastava08/Windows-11",
    images: [Windows1, Windows2, Windows3, Windows4, Windows5],
  },
  {
    title: "Minesweeper Game",
    description:
      "üí£ Developed a Minesweeper game with a grid layout. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/MineSweeper-Game-using-HTML-CSS-JS",
    images: [Minesweeper1,Minesweeper2,Minesweeper3,Minesweeper4,Minesweeper5],
  },
  {
    title: "Rock Paper Scissors Game",
    description:
      "‚úã Created a Rock Paper Scissors game with score tracking. Tech Stack: HTML, CSS, JavaScript.",
    link: "https://github.com/RohanShrivastava08/Rock-Paper-Scissor-Game-using-HTML-CSS-JS",
    images: [Rockpaper1, Rockpaper2, Rockpaper3, Rockpaper4, Rockpaper5],
  },
  {
    title: "Elegant Furniture Website using Bootstrap",
    description:
      "üõãÔ∏è Created a stylish furniture e-commerce site using Bootstrap. Tech Stack: HTML, CSS, Bootstrap.",
    link: "https://github.com/RohanShrivastava08/Elegant-Furniture-Website-using-Bootstrap",
    images: [Furniture1, Furniture2, Furniture3, Furniture4, Furniture5],
  },
  {
    title: "Grocery Landing Page using Tailwind CSS",
    description:
      "üõí Developed a landing page for a grocery store using Tailwind CSS. Tech Stack: HTML, CSS, Tailwind CSS.",
    link: "https://github.com/RohanShrivastava08/Grocery-Landing-Page-using-Tailwind-CSS",
    images: [Grocery1, Grocery2, Grocery3, Grocery4, Grocery5],
  },
  {
    title: "Portfolio Website using React, Tailwind CSS, and Framer Motion",
    description:
      "üåê Developed a personal portfolio website to showcase projects. Tech Stack: React, Tailwind CSS, Framer Motion.",
    link: "https://github.com/RohanShrivastava08/Personal-Portfolio-using-React-Tailwind-CSS",
    images: [Portfolio1, Portfolio2, Portfolio3, Portfolio4, Portfolio5],
  },
  {
    title: "Recipe Book Project using TypeScript",
    description:
      "üìö Created a recipe book app that allows users to search and save recipes. Tech Stack: TypeScript, React, API.",
    link: "https://github.com/RohanShrivastava08/Recipe-Book-using-Typescript",
    images: [Recipebook1, Recipebook2, Recipebook3, Recipebook4, Recipebook5],
  },
  {
    title: "Rohan Code's Website using Bootstrap",
    description:
      "üåü Developed a personal website for Rohan Code using Bootstrap. Tech Stack: HTML, CSS, Bootstrap.",
    link: "https://github.com/RohanShrivastava08/Code-Website-using-BootStrap",
    images: [Codeweb1, Codeweb2, Codeweb3, Codeweb4, Codeweb5],
  },
  {
    title: "Simple Landing Page using Tailwind CSS",
    description:
      "üöÄ Created a simple landing page with Tailwind CSS. Tech Stack: HTML, CSS, Tailwind CSS.",
    link: "https://github.com/RohanShrivastava08/Website-Landing-Page-using-Tailwind.css",
    images: [
      Tailwindlanding1,
      Tailwindlanding2,
      Tailwindlanding3,
      Tailwindlanding4,
      Tailwindlanding5,
    ],
  },
  {
    title: "ToDekstop Website using Tailwind CSS",
    description:
      "üñ•Ô∏è Developed a ToDekstop application with modern UI. Tech Stack: HTML, CSS, Tailwind CSS.",
    link: "https://github.com/link-to-project",
    images: [Todesktop1, Todesktop2, Todesktop3, Todesktop4, Todesktop5],
  }
];

const fadeInVariants = {
  hidden: { opacity: 0, x: -50 },
  visible: {
    opacity: 1,
    x: 0,
    transition: { duration: 0.6, ease: "easeInOut" },
  },
};

const ProjectPage = () => {
  // Slider settings for smooth transitions and autoplay
  const sliderSettings = {
    dots: true,
    infinite: true,
    speed: 500,
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 3000,
  };

  // Animation variants for sliding projects into view
  const animationVariants = {
    hiddenLeft: { opacity: 0, x: -100 },
    hiddenRight: { opacity: 0, x: 100 },
    visible: { opacity: 1, x: 0 },
  };

  // Setting up the Intersection Observer for animations on scroll
  const [visibleProjects, setVisibleProjects] = React.useState(
    Array(projects.length).fill(false)
  );

  const projectRefs = React.useRef([]);

  React.useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = projectRefs.current.indexOf(entry.target);
            if (index !== -1) {
              setVisibleProjects((prev) => {
                const newVisibleProjects = [...prev];
                newVisibleProjects[index] = true;
                return newVisibleProjects;
              });
              observer.unobserve(entry.target); // Stop observing once animation is triggered
            }
          }
        });
      },
      { threshold: 0.3 } // Adjust the threshold as needed
    );

    projectRefs.current.forEach((project) => {
      if (project) observer.observe(project);
    });

    return () => observer.disconnect();
  }, []);

  return (
    <div className="flex flex-col min-h-screen">
      <Navbar />
      <main className="bg-gray-900 text-white flex-grow flex flex-col items-center py-10">
        {/* Hero Section */}
        <motion.header
          className="text-center py-16 shadow-lg"
          initial="hidden"
          animate="visible"
          variants={fadeInVariants}
          transition={{ duration: 0.6 }}
        >
          <h1 className="text-4xl md:text-5xl font-extrabold text-indigo-400 tracking-wider mb-4">
            My <span className="text-purple-500">Projects</span>
          </h1>
          <p className="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto">
            Explore my work showcasing innovative solutions and technologies.
          </p>
        </motion.header>

        {/* Animated Line */}
        <motion.div
          className="w-1/2 h-1 bg-indigo-500 mb-8"
          initial={{ width: 0 }}
          animate={{ width: "100%" }}
          transition={{ duration: 0.6 }}
        />

        {/* Project Sections */}
        <div className="max-w-6xl mx-auto px-4">
          {projects.map((project, index) => (
            <motion.div
              key={index}
              className="mb-16 flex flex-col md:flex-row items-center"
              ref={(el) => (projectRefs.current[index] = el)}
              initial={index % 2 === 0 ? "hiddenRight" : "hiddenLeft"}
              animate={visibleProjects[index] ? "visible" : "hidden"}
              transition={{ duration: 0.7, delay: index * 0.1 }}
              variants={animationVariants}
            >
              {/* Left-aligned Project */}
              {index % 2 === 0 ? (
                <>
                  <div className="md:w-1/2">
                    <Slider {...sliderSettings}>
                      {project.images.map((image, imgIndex) => (
                        <div key={imgIndex}>
                          <img
                            src={image}
                            alt={project.title}
                            className="w-full h-auto rounded-lg shadow-lg"
                          />
                        </div>
                      ))}
                    </Slider>
                  </div>
                  <div className="md:w-1/2 md:pl-6 mt-4 md:mt-0">
                    <h2 className="text-2xl font-semibold mb-2">
                      {project.title}
                    </h2>
                    <p className="text-gray-400">{project.description}</p>
                    <a
                      href={project.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="mt-4 inline-block bg-indigo-500 text-white font-semibold py-2 px-4 rounded hover:bg-indigo-400 transition duration-300"
                    >
                      View Project on GitHub
                    </a>
                  </div>
                </>
              ) : (
                /* Right-aligned Project */
                <>
                  <div className="md:w-1/2 md:pr-6 mt-4 md:mt-0">
                    <h2 className="text-2xl font-semibold mb-2">
                      {project.title}
                    </h2>
                    <p className="text-gray-400">{project.description}</p>
                    <a
                      href={project.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="mt-4 inline-block bg-indigo-500 text-white font-semibold py-2 px-4 rounded hover:bg-indigo-400 transition duration-300"
                    >
                      View Project on GitHub
                    </a>
                  </div>
                  <div className="md:w-1/2">
                    <Slider {...sliderSettings}>
                      {project.images.map((image, imgIndex) => (
                        <div key={imgIndex}>
                          <img
                            src={image}
                            alt={project.title}
                            className="w-full h-auto rounded-lg shadow-lg"
                          />
                        </div>
                      ))}
                    </Slider>
                  </div>
                </>
              )}
            </motion.div>
          ))}
        </div>
      </main>
    </div>
  );
};

export default ProjectPage;
